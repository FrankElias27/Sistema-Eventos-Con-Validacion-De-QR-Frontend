<mat-card>

  <button mat-icon-button color="warn" aria-label="Cerrar" class="close-button" (click)="closeModal()">
    <mat-icon>close</mat-icon>
  </button>
  <br>
  <mat-card-subtitle style="text-align: center;">Detalles del Evento</mat-card-subtitle>
  <mat-divider></mat-divider>
  <br>

  <div class="row">
    <div class="col-md-8 offset-md-2">
      <form [formGroup]="form" (ngSubmit)="submitForm()">
        <!-- Nombre del Evento -->
        <mat-form-field class="full-width" appearance="outline">
          <mat-label>Nombre del Evento</mat-label>
          <input formControlName="nombre" matInput placeholder="Digite el nombre del Evento" />
          <mat-error *ngIf="form.get('nombre')?.hasError('required')">
            Nombre del Evento es requerido.
          </mat-error>
        </mat-form-field>

        <!-- Fecha del Evento -->
        <mat-form-field class="full-width" appearance="outline">
          <mat-label>Fecha del Evento</mat-label>
          <input formControlName="fechaEvento" matInput [matDatepicker]="picker" placeholder="Seleccione la fecha del Evento" />
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
          <mat-error *ngIf="form.get('fechaEvento')?.hasError('required')">
            Fecha del Evento es requerida.
          </mat-error>
        </mat-form-field>

        <!-- Fecha y Hora de Inicio -->
        <div class="datetime-container flex flex-col md:flex-row gap-4 ">
          <mat-form-field appearance="outline" class="date-field flex-1 full-width">
            <mat-label>Fecha Inicio del Evento</mat-label>
            <input formControlName="fechaInicio" matInput [matDatepicker]="pickerStart" name="fechaInicio" placeholder="Seleccione la fecha">
            <mat-datepicker-toggle matSuffix [for]="pickerStart"></mat-datepicker-toggle>
            <mat-datepicker #pickerStart></mat-datepicker>
          </mat-form-field>
          <input formControlName="horaInicio" matInput type="time" placeholder="Seleccione la hora" class="cursor-pointer flex-1 w-full max-w-full">
        </div>

        <!-- Fecha y Hora de Fin -->
        <div class="datetime-container flex flex-col md:flex-row gap-4  ">
          <mat-form-field appearance="outline" class="date-field flex-1 full-width ">
            <mat-label>Fecha Fin del Evento</mat-label>
            <input formControlName="fechaFin" matInput [matDatepicker]="pickerEnd" name="fechaFin" placeholder="Seleccione la fecha">
            <mat-datepicker-toggle matSuffix [for]="pickerEnd"></mat-datepicker-toggle>
            <mat-datepicker #pickerEnd></mat-datepicker>
          </mat-form-field>
          <input formControlName="horaFin" matInput type="time" placeholder="Seleccione la hora" class="flex-1 cursor-pointer w-full max-w-full">
        </div>


        <mat-form-field class="full-width" appearance="outline">
          <mat-label>Cantidad de códigos QR</mat-label>
          <input
          formControlName="cantidadQR"
          name="cantidadQR"
          placeholder="Digite la cantidad de códigos QR"
          required
          matInput>
        </mat-form-field>

        <mat-form-field class="full-width" appearance="outline">
          <mat-label>Identificador del Evento</mat-label>
          <input
          formControlName="codeIdentify"
          name="codeIdentify"
          placeholder="Digite el identificador del Evento"
          required
          matInput>
        </mat-form-field>

        <!-- Selección de Archivo -->
        <mat-label>
          <div class="flex items-center space-x-2">
              <!-- Texto -->
              Escoja la imagen del Evento (Peso Max. 80kb):

              <!-- Imagen -->
              <a href="https://squoosh.app/" target="_blank">
                <img src="../../../../assets/squoosh.webp" class="h-7 w-10 sm:h-10 sm:w-10" alt="">
              </a>
          </div>
      </mat-label>
        <div class="file-input-wrapper">
          <input type="file" id="file-input" (change)="onFileChange($event)" accept="image/*" />
          <label for="file-input" class="file-input-button">
            <mat-icon class="file-icon">attach_file</mat-icon>
            <span>Seleccionar archivo</span>
          </label>
        </div>
        <div *ngIf="selectedFileName" class="file-name">
          Archivo seleccionado: {{ selectedFileName }}
        </div>

        <br>
        <mat-divider></mat-divider>
        <div class="container text-center">
          <br>
          <button class="btn" mat-raised-button color="primary" type="submit">Registrar Evento</button>
        </div>
      </form>
    </div>
  </div>

</mat-card>

